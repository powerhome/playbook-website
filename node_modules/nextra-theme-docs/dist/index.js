var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __objRest = (source, exclude) => {
  var target = {};
  for (var prop in source)
    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)
      target[prop] = source[prop];
  if (source != null && __getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(source)) {
      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))
        target[prop] = source[prop];
    }
  return target;
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// src/index.tsx
import React38, { useEffect as useEffect8, useMemo as useMemo3, useRef as useRef5, useState as useState8 } from "react";
import { useRouter as useRouter8 } from "next/router";
import "focus-visible";
import scrollIntoView3 from "scroll-into-view-if-needed";
import { SkipNavContent } from "@reach/skip-nav";
import { ThemeProvider } from "next-themes";
import cn9 from "classnames";

// src/head.tsx
import React2, { useState, useEffect } from "react";
import NextHead from "next/head";
import { useTheme } from "next-themes";

// src/utils/render-component.tsx
import React from "react";
function renderComponent(ComponentOrNode, props, functionOnly = false) {
  if (!ComponentOrNode)
    return null;
  if (typeof ComponentOrNode !== "function")
    return ComponentOrNode;
  if (functionOnly)
    return ComponentOrNode(props);
  return /* @__PURE__ */ React.createElement(ComponentOrNode, __spreadValues({}, props));
}
var render_component_default = renderComponent;

// src/config.ts
import { createContext, useContext } from "react";
var ThemeConfigContext = createContext({});
var useConfig = () => useContext(ThemeConfigContext);

// src/head.tsx
function Head({ title, locale, meta }) {
  const config = useConfig();
  const { theme, systemTheme } = useTheme();
  const renderedTheme = theme === "system" ? systemTheme : theme;
  const [mounted, setMounted] = useState(false);
  useEffect(() => setMounted(true), []);
  const suffix = render_component_default(config.titleSuffix, { locale, config, title, meta }, true);
  return /* @__PURE__ */ React2.createElement(NextHead, null, /* @__PURE__ */ React2.createElement("title", null, title + (suffix || "")), render_component_default(config.head, { locale, config, title, meta }), config.unstable_faviconGlyph ? /* @__PURE__ */ React2.createElement("link", {
    rel: "icon",
    href: `data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text x='50' y='.9em' font-size='90' text-anchor='middle'>${config.unstable_faviconGlyph}</text><style>text{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";fill:black}@media(prefers-color-scheme:dark){text{fill:white}}</style></svg>`
  }) : null, mounted ? /* @__PURE__ */ React2.createElement("meta", {
    name: "theme-color",
    content: renderedTheme === "dark" ? "#111" : "#fff"
  }) : /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement("meta", {
    name: "theme-color",
    content: "#ffffff",
    media: "(prefers-color-scheme: light)"
  }), /* @__PURE__ */ React2.createElement("meta", {
    name: "theme-color",
    content: "#111111",
    media: "(prefers-color-scheme: dark)"
  })), /* @__PURE__ */ React2.createElement("meta", {
    name: "viewport",
    content: "width=device-width, initial-scale=1.0, viewport-fit=cover"
  }));
}

// src/navbar.tsx
import React14 from "react";
import cn3 from "classnames";
import { useRouter as useRouter3 } from "next/router";
import { Menu, Transition as Transition2 } from "@headlessui/react";

// ../nextra/dist/icons.mjs
import React3 from "react";
import React22 from "react";
import React32 from "react";
import React4 from "react";
import React5 from "react";
import React6 from "react";
import React7 from "react";
import React8 from "react";
import React9 from "react";
import React10 from "react";
var __defProp2 = Object.defineProperty;
var __getOwnPropSymbols2 = Object.getOwnPropertySymbols;
var __hasOwnProp2 = Object.prototype.hasOwnProperty;
var __propIsEnum2 = Object.prototype.propertyIsEnumerable;
var __defNormalProp2 = (obj, key, value) => key in obj ? __defProp2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues2 = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp2.call(b, prop))
      __defNormalProp2(a, prop, b[prop]);
  if (__getOwnPropSymbols2)
    for (var prop of __getOwnPropSymbols2(b)) {
      if (__propIsEnum2.call(b, prop))
        __defNormalProp2(a, prop, b[prop]);
    }
  return a;
};
function ArrowRightIcon(props) {
  return /* @__PURE__ */ React3.createElement("svg", __spreadValues2({
    fill: "none",
    viewBox: "0 0 24 24",
    stroke: "currentColor"
  }, props), /* @__PURE__ */ React3.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: "2",
    d: "M9 5l7 7-7 7"
  }));
}
function DiscordIcon() {
  return /* @__PURE__ */ React32.createElement("svg", {
    width: "24",
    height: "24",
    fill: "currentColor",
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 5 30.67 23.25",
    "aria-hidden": "true"
  }, /* @__PURE__ */ React32.createElement("title", null, "Discord"), /* @__PURE__ */ React32.createElement("path", {
    d: "M26.0015 6.9529C24.0021 6.03845 21.8787 5.37198 19.6623 5C19.3833 5.48048 19.0733 6.13144 18.8563 6.64292C16.4989 6.30193 14.1585 6.30193 11.8336 6.64292C11.6166 6.13144 11.2911 5.48048 11.0276 5C8.79575 5.37198 6.67235 6.03845 4.6869 6.9529C0.672601 12.8736 -0.41235 18.6548 0.130124 24.3585C2.79599 26.2959 5.36889 27.4739 7.89682 28.2489C8.51679 27.4119 9.07477 26.5129 9.55525 25.5675C8.64079 25.2265 7.77283 24.808 6.93587 24.312C7.15286 24.1571 7.36986 23.9866 7.57135 23.8161C12.6241 26.1255 18.0969 26.1255 23.0876 23.8161C23.3046 23.9866 23.5061 24.1571 23.7231 24.312C22.8861 24.808 22.0182 25.2265 21.1037 25.5675C21.5842 26.5129 22.1422 27.4119 22.7621 28.2489C25.2885 27.4739 27.8769 26.2959 30.5288 24.3585C31.1952 17.7559 29.4733 12.0212 26.0015 6.9529ZM10.2527 20.8402C8.73376 20.8402 7.49382 19.4608 7.49382 17.7714C7.49382 16.082 8.70276 14.7025 10.2527 14.7025C11.7871 14.7025 13.0425 16.082 13.0115 17.7714C13.0115 19.4608 11.7871 20.8402 10.2527 20.8402ZM20.4373 20.8402C18.9183 20.8402 17.6768 19.4608 17.6768 17.7714C17.6768 16.082 18.8873 14.7025 20.4373 14.7025C21.9717 14.7025 23.2271 16.082 23.1961 17.7714C23.1961 19.4608 21.9872 20.8402 20.4373 20.8402Z"
  }));
}
function GitHubIcon() {
  return /* @__PURE__ */ React4.createElement("svg", {
    width: "24",
    height: "24",
    fill: "currentColor",
    viewBox: "3 3 18 18",
    "aria-hidden": "true"
  }, /* @__PURE__ */ React4.createElement("title", null, "GitHub"), /* @__PURE__ */ React4.createElement("path", {
    d: "M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z"
  }));
}
function GlobeIcon() {
  return /* @__PURE__ */ React5.createElement("svg", {
    viewBox: "0 0 20 20",
    width: "1em",
    height: "1em",
    fill: "currentColor"
  }, /* @__PURE__ */ React5.createElement("path", {
    fillRule: "evenodd",
    d: "M4.083 9h1.946c.089-1.546.383-2.97.837-4.118A6.004 6.004 0 004.083 9zM10 2a8 8 0 100 16 8 8 0 000-16zm0 2c-.076 0-.232.032-.465.262-.238.234-.497.623-.737 1.182-.389.907-.673 2.142-.766 3.556h3.936c-.093-1.414-.377-2.649-.766-3.556-.24-.56-.5-.948-.737-1.182C10.232 4.032 10.076 4 10 4zm3.971 5c-.089-1.546-.383-2.97-.837-4.118A6.004 6.004 0 0115.917 9h-1.946zm-2.003 2H8.032c.093 1.414.377 2.649.766 3.556.24.56.5.948.737 1.182.233.23.389.262.465.262.076 0 .232-.032.465-.262.238-.234.498-.623.737-1.182.389-.907.673-2.142.766-3.556zm1.166 4.118c.454-1.147.748-2.572.837-4.118h1.946a6.004 6.004 0 01-2.783 4.118zm-6.268 0C6.412 13.97 6.118 12.546 6.03 11H4.083a6.004 6.004 0 002.783 4.118z",
    clipRule: "evenodd"
  }));
}
function MenuIcon({ className }) {
  return /* @__PURE__ */ React6.createElement("svg", {
    fill: "none",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    stroke: "currentColor",
    className
  }, /* @__PURE__ */ React6.createElement("g", null, /* @__PURE__ */ React6.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: "2",
    d: "M4 6h16"
  })), /* @__PURE__ */ React6.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: "2",
    d: "M4 12h16"
  }), /* @__PURE__ */ React6.createElement("g", null, /* @__PURE__ */ React6.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: "2",
    d: "M4 18h16"
  })));
}
function MoonIcon({ className }) {
  return /* @__PURE__ */ React7.createElement("svg", {
    fill: "none",
    viewBox: "0 0 24 24",
    width: "24",
    height: "24",
    stroke: "currentColor",
    className
  }, /* @__PURE__ */ React7.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: "2",
    d: "M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
  }));
}
function SpinnerIcon({
  className
}) {
  return /* @__PURE__ */ React8.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    fill: "none",
    viewBox: "0 0 24 24",
    width: "24",
    height: "24",
    className
  }, /* @__PURE__ */ React8.createElement("circle", {
    className: "opacity-25",
    cx: "12",
    cy: "12",
    r: "10",
    stroke: "currentColor",
    strokeWidth: "4"
  }), /* @__PURE__ */ React8.createElement("path", {
    className: "opacity-75",
    fill: "currentColor",
    d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
  }));
}
function SunIcon({ className }) {
  return /* @__PURE__ */ React9.createElement("svg", {
    fill: "none",
    viewBox: "0 0 24 24",
    width: "24",
    height: "24",
    stroke: "currentColor",
    className
  }, /* @__PURE__ */ React9.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: "2",
    d: "M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
  }));
}
function XIcon({ className }) {
  return /* @__PURE__ */ React10.createElement("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    width: "20",
    height: "20",
    viewBox: "0 0 20 20",
    fill: "currentColor",
    className
  }, /* @__PURE__ */ React10.createElement("path", {
    fillRule: "evenodd",
    d: "M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",
    clipRule: "evenodd"
  }));
}

// src/utils/get-fs-route.ts
var template = "https://nextra.vercel.app";
var getFSRoute = (asPath, locale) => {
  const pathname = new URL(asPath, template).pathname;
  const cleanedPath = locale ? pathname.replace(new RegExp(`.${locale}(/|$)`), "$1") : pathname;
  return cleanedPath.replace(new RegExp("/index(/|$)"), "$1").split("#")[0] || "/";
};

// src/utils/menu-context.ts
import { useContext as useContext2, createContext as createContext2 } from "react";
var MenuContext = createContext2({
  menu: false,
  setMenu: () => {
  },
  defaultMenuCollapsed: true
});
function useMenuContext() {
  return useContext2(MenuContext);
}

// src/search.tsx
import React12, {
  useMemo,
  useCallback,
  useRef,
  useState as useState2,
  useEffect as useEffect2
} from "react";
import matchSorter from "match-sorter";
import cn from "classnames";
import { useRouter } from "next/router";

// src/components/anchor.tsx
import React11, { forwardRef } from "react";
import NextLink from "next/link";
var Anchor = forwardRef(function(_a, forwardedRef) {
  var _b = _a, { href = "", children, newWindow } = _b, props = __objRest(_b, ["href", "children", "newWindow"]);
  const config = useConfig();
  if (newWindow) {
    return /* @__PURE__ */ React11.createElement("a", __spreadValues({
      ref: forwardedRef,
      href,
      target: "_blank",
      rel: "noreferrer",
      "aria-selected": false
    }, props), children);
  }
  if (config.newNextLinkBehavior) {
    return /* @__PURE__ */ React11.createElement(NextLink, __spreadValues({
      ref: forwardedRef,
      href
    }, props), children);
  }
  return /* @__PURE__ */ React11.createElement(NextLink, {
    href,
    passHref: true
  }, /* @__PURE__ */ React11.createElement("a", __spreadValues({
    ref: forwardedRef
  }, props), children));
});
var anchor_default = Anchor;

// src/search.tsx
var Item = ({ title, active, href, onMouseOver, search }) => {
  const highlight = title.toLowerCase().indexOf(search.toLowerCase());
  return /* @__PURE__ */ React12.createElement("li", {
    className: cn("p-2", { active })
  }, /* @__PURE__ */ React12.createElement(anchor_default, {
    href,
    className: "block no-underline",
    onMouseOver
  }, title.substring(0, highlight), /* @__PURE__ */ React12.createElement("span", {
    className: "highlight"
  }, title.substring(highlight, highlight + search.length)), title.substring(highlight + search.length)));
};
var UP = true;
var DOWN = false;
var Search = ({ directories = [] }) => {
  const router = useRouter();
  const config = useConfig();
  const [show, setShow] = useState2(false);
  const [search, setSearch] = useState2("");
  const [active, setActive] = useState2(null);
  const input = useRef(null);
  const { locale = "en-US" } = router;
  const results = useMemo(() => {
    if (!search)
      return [];
    return matchSorter(directories, search, { keys: ["title"] });
  }, [search]);
  const moveActiveItem = (up) => {
    const position = active !== null ? active + (up ? -1 : 1) : 0;
    const { length } = results;
    const next = (position + length) % length;
    setActive(next);
  };
  const handleKeyDown = useCallback((e) => {
    const { key, ctrlKey } = e;
    if (ctrlKey && key === "n" || key === "ArrowDown") {
      e.preventDefault();
      moveActiveItem(DOWN);
    }
    if (ctrlKey && key === "p" || key === "ArrowUp") {
      e.preventDefault();
      moveActiveItem(UP);
    }
    if (active !== null && key === "Enter" && results && results[active]) {
      router.push(results[active].route);
    }
  }, [active, results, router]);
  const handleOnBlur = useCallback((e) => {
    if (active === null) {
      setShow(false);
    }
  }, [active]);
  useEffect2(() => {
    setActive(null);
  }, [search]);
  useEffect2(() => {
    const inputs = ["input", "select", "button", "textarea"];
    const down = (e) => {
      var _a;
      if (document.activeElement && inputs.indexOf(document.activeElement.tagName.toLowerCase()) === -1) {
        if (e.key === "/") {
          e.preventDefault();
          (_a = input.current) == null ? void 0 : _a.focus();
        } else if (e.key === "Escape") {
          setShow(false);
        }
      }
    };
    window.addEventListener("keydown", down);
    return () => window.removeEventListener("keydown", down);
  }, []);
  const renderList = show && results.length > 0;
  const placeholder = config.searchPlaceholder && (typeof config.searchPlaceholder === "string" ? config.searchPlaceholder : config.searchPlaceholder({ locale }));
  return /* @__PURE__ */ React12.createElement("div", {
    className: "nextra-search relative w-full md:w-64"
  }, renderList && /* @__PURE__ */ React12.createElement("div", {
    className: "search-overlay z-10",
    onClick: () => setShow(false)
  }), /* @__PURE__ */ React12.createElement("div", {
    className: "relative flex items-center"
  }, /* @__PURE__ */ React12.createElement("input", {
    onChange: (e) => {
      setSearch(e.target.value);
      setShow(true);
    },
    className: "block w-full appearance-none rounded-lg bg-black/[.03] px-3 py-2 leading-tight transition-colors hover:bg-black/5 focus:outline-none focus:ring",
    type: "search",
    placeholder,
    onKeyDown: handleKeyDown,
    onFocus: () => setShow(true),
    onBlur: handleOnBlur,
    ref: input,
    spellCheck: false
  }), show ? null : /* @__PURE__ */ React12.createElement("div", {
    className: "pointer-events-none absolute inset-y-0 right-0 hidden select-none py-1.5 pr-1.5 sm:flex"
  }, /* @__PURE__ */ React12.createElement("kbd", {
    className: "inline-flex items-center rounded border bg-white px-1.5 font-mono text-sm font-medium text-gray-400 dark:border-gray-400 dark:text-gray-800"
  }, "/"))), renderList && /* @__PURE__ */ React12.createElement("ul", {
    className: "top-100 absolute left-0 z-20 m-0 mt-1 w-full list-none divide-y rounded border p-0 py-2.5 shadow-md md:right-0 md:w-auto"
  }, results.map((res, i) => {
    return /* @__PURE__ */ React12.createElement(Item, {
      key: `search-item-${i}`,
      title: res.title,
      href: res.route,
      active: i === active,
      search,
      onMouseOver: () => setActive(i)
    });
  })));
};
var search_default = Search;

// src/flexsearch.jsx
import React13, {
  memo,
  useCallback as useCallback2,
  useRef as useRef2,
  useState as useState3,
  useEffect as useEffect3,
  Fragment
} from "react";
import { useRouter as useRouter2 } from "next/router";
import cn2 from "classnames";
import FlexSearch from "flexsearch";
import { Transition } from "@headlessui/react";
var Item2 = ({
  page,
  first,
  title,
  active,
  href,
  onHover,
  onClick,
  excerpt
}) => {
  return /* @__PURE__ */ React13.createElement(React13.Fragment, null, first ? /* @__PURE__ */ React13.createElement("div", {
    className: "nextra-search-section mx-2.5 mb-2 mt-6 select-none px-2.5 pb-1.5 text-xs font-semibold uppercase text-gray-500 first:mt-0 dark:text-gray-300"
  }, page) : null, /* @__PURE__ */ React13.createElement(anchor_default, {
    href,
    className: "block no-underline",
    onMouseMove: onHover,
    onClick
  }, /* @__PURE__ */ React13.createElement("li", {
    className: cn2({ active })
  }, /* @__PURE__ */ React13.createElement("div", {
    className: "font-semibold leading-5 dark:text-white"
  }, title), excerpt ? /* @__PURE__ */ React13.createElement("div", {
    className: "excerpt mt-1 text-sm leading-[1.35rem] text-gray-600 dark:text-gray-400"
  }, excerpt) : null)));
};
var MemoedStringWithMatchHighlights = memo(function StringWithMatchHighlights({ content, search }) {
  const splittedText = content.split("");
  const escapedSearch = search.trim().replace(/[|\\{}()[\]^$+*?.]/g, "\\$&");
  const regexp = RegExp("(" + escapedSearch.split(" ").join("|") + ")", "ig");
  let match;
  let id = 0;
  let index = 0;
  const res = [];
  while ((match = regexp.exec(content)) !== null) {
    res.push(/* @__PURE__ */ React13.createElement(Fragment, {
      key: id++
    }, splittedText.splice(0, match.index - index).join("")));
    res.push(/* @__PURE__ */ React13.createElement("span", {
      className: "highlight",
      key: id++
    }, splittedText.splice(0, regexp.lastIndex - match.index).join("")));
    index = regexp.lastIndex;
  }
  res.push(/* @__PURE__ */ React13.createElement(Fragment, {
    key: id++
  }, splittedText.join("")));
  return res;
});
var indexes = {};
function Search2() {
  const config = useConfig();
  const router = useRouter2();
  const [loading, setLoading] = useState3(false);
  const [show, setShow] = useState3(false);
  const [search, setSearch] = useState3("");
  const [active, setActive] = useState3(0);
  const [results, setResults] = useState3([]);
  const input = useRef2(null);
  const { setMenu } = useMenuContext();
  const finishSearch = () => {
    if (input.current) {
      input.current.value = "";
      input.current.blur();
    }
    setSearch("");
    setShow(false);
    setMenu(false);
  };
  const doSearch = () => {
    var _a, _b;
    if (!search)
      return;
    const localeCode = router.locale;
    const index = indexes[localeCode];
    if (!index)
      return;
    const [pageIndex, sectionIndex] = index;
    const pageResults = (((_a = pageIndex.search(search, {
      enrich: true,
      suggest: true
    })[0]) == null ? void 0 : _a.result) || []).slice(0, 5);
    const results2 = [];
    const pageTitleMatches = {};
    for (let i = 0; i < pageResults.length; i++) {
      const result = pageResults[i];
      pageTitleMatches[i] = 0;
      const sectionResults = (((_b = sectionIndex.search(search, {
        enrich: true,
        suggest: true,
        tag: "page_" + result.id
      })[0]) == null ? void 0 : _b.result) || []).slice(0, 5);
      let firstItemOfPage = true;
      const occurred = {};
      for (let j = 0; j < sectionResults.length; j++) {
        const section = sectionResults[j];
        const isMatchingTitle = typeof section.doc.display !== "undefined";
        const content = section.doc.display || section.doc.content;
        const url = section.doc.url;
        if (isMatchingTitle) {
          pageTitleMatches[i]++;
        }
        if (occurred[url + "@" + content])
          continue;
        occurred[url + "@" + content] = true;
        results2.push({
          _page_rk: i,
          _section_rk: j,
          first: firstItemOfPage,
          route: url,
          page: result.doc.title,
          title: /* @__PURE__ */ React13.createElement(MemoedStringWithMatchHighlights, {
            content: section.doc.title,
            search
          }),
          excerpt: content ? /* @__PURE__ */ React13.createElement(MemoedStringWithMatchHighlights, {
            content,
            search
          }) : null
        });
        firstItemOfPage = false;
      }
    }
    setResults(results2.sort((a, b) => {
      if (a._page_rk === b._page_rk) {
        return a._section_rk - b._section_rk;
      }
      if (pageTitleMatches[a._page_rk] !== pageTitleMatches[b._page_rk]) {
        return pageTitleMatches[b._page_rk] - pageTitleMatches[a._page_rk];
      }
      return a._page_rk - b._page_rk;
    }));
  };
  useEffect3(doSearch, [search]);
  const handleKeyDown = useCallback2((e) => {
    switch (e.key) {
      case "ArrowDown": {
        e.preventDefault();
        if (active + 1 < results.length) {
          setActive(active + 1);
          const activeElement = document.querySelector(`.nextra-flexsearch ul > a:nth-of-type(${active + 2})`);
          if (activeElement && activeElement.scrollIntoView) {
            activeElement.scrollIntoView({
              behavior: "smooth",
              block: "nearest"
            });
          }
        }
        break;
      }
      case "ArrowUp": {
        e.preventDefault();
        if (active - 1 >= 0) {
          setActive(active - 1);
          const activeElement = document.querySelector(`.nextra-flexsearch ul > a:nth-of-type(${active})`);
          if (activeElement && activeElement.scrollIntoView) {
            activeElement.scrollIntoView({
              behavior: "smooth",
              block: "nearest"
            });
          }
        }
        break;
      }
      case "Enter": {
        router.push(results[active].route);
        finishSearch();
        break;
      }
      case "Escape": {
        setShow(false);
        input.current.blur();
        break;
      }
    }
  }, [active, results, router]);
  const load = () => __async(this, null, function* () {
    const localeCode = router.locale;
    if (!indexes[localeCode] && !loading) {
      setLoading(true);
      const response = yield fetch(`${router.basePath}/_next/static/chunks/nextra-data-${localeCode}.json`);
      const data = yield response.json();
      const pageIndex = new FlexSearch.Document({
        cache: 100,
        tokenize: "full",
        document: {
          id: "id",
          index: "content",
          store: ["title"]
        },
        context: {
          resolution: 9,
          depth: 2,
          bidirectional: true
        }
      });
      const sectionIndex = new FlexSearch.Document({
        cache: 100,
        tokenize: "full",
        document: {
          id: "id",
          index: "content",
          tag: "pageId",
          store: ["title", "content", "url", "display"]
        },
        context: {
          resolution: 9,
          depth: 2,
          bidirectional: true
        }
      });
      let pageId = 0;
      for (let route in data) {
        let pageContent = "";
        ++pageId;
        for (let heading in data[route].data) {
          const [hash, text] = heading.split("#");
          const url = route + (hash ? "#" + hash : "");
          const title = text || data[route].title;
          const paragraphs = (data[route].data[heading] || "").split("\n").filter(Boolean);
          sectionIndex.add({
            id: url,
            url,
            title,
            pageId: `page_${pageId}`,
            content: title,
            display: paragraphs[0] || ""
          });
          for (let i = 0; i < paragraphs.length; i++) {
            sectionIndex.add({
              id: url + "_" + i,
              url,
              title,
              pageId: `page_${pageId}`,
              content: paragraphs[i]
            });
          }
          pageContent += " " + title + " " + (data[route].data[heading] || "");
        }
        pageIndex.add({
          id: pageId,
          title: data[route].title,
          content: pageContent
        });
      }
      indexes[localeCode] = [pageIndex, sectionIndex];
      setLoading(false);
      setSearch((s) => s ? s + " " : s);
    }
  });
  useEffect3(() => {
    setActive(0);
  }, [search]);
  useEffect3(() => {
    const inputs = ["input", "select", "button", "textarea"];
    const down = (e) => {
      if (document.activeElement && inputs.indexOf(document.activeElement.tagName.toLowerCase()) === -1) {
        if (e.key === "/" || e.key === "k" && e.metaKey) {
          e.preventDefault();
          input.current.focus();
        } else if (e.key === "Escape") {
          setShow(false);
          input.current.blur();
        }
      }
    };
    window.addEventListener("keydown", down);
    return () => window.removeEventListener("keydown", down);
  }, []);
  const renderList = show && !!search;
  return /* @__PURE__ */ React13.createElement("div", {
    className: "nextra-search nextra-flexsearch relative w-full md:w-64"
  }, renderList && /* @__PURE__ */ React13.createElement("div", {
    className: "search-overlay z-10",
    onClick: () => setShow(false)
  }), /* @__PURE__ */ React13.createElement("div", {
    className: "relative flex items-center"
  }, /* @__PURE__ */ React13.createElement("input", {
    onChange: (e) => {
      setSearch(e.target.value);
      setShow(true);
    },
    className: "block w-full appearance-none rounded-lg px-3 py-2 leading-tight transition-colors focus:bg-white focus:outline-none focus:ring-1 focus:ring-gray-200 dark:focus:bg-dark dark:focus:ring-gray-100/20",
    type: "search",
    placeholder: render_component_default(config.searchPlaceholder, {
      locale: router.locale
    }, true),
    onKeyDown: handleKeyDown,
    onFocus: () => {
      load();
      setShow(true);
    },
    ref: input,
    spellCheck: false
  }), !renderList && /* @__PURE__ */ React13.createElement("div", {
    className: "pointer-events-none absolute inset-y-0 right-0 hidden select-none py-1.5 pr-1.5 sm:flex"
  }, /* @__PURE__ */ React13.createElement("kbd", {
    className: "inline-flex items-center rounded border bg-white px-1.5 font-mono text-sm font-medium text-gray-400 dark:border-gray-100/20 dark:bg-dark/50 dark:text-gray-500"
  }, "/"))), /* @__PURE__ */ React13.createElement(Transition, {
    show: renderList,
    as: React13.Fragment,
    leave: "transition duration-100",
    leaveFrom: "opacity-100",
    leaveTo: "opacity-0"
  }, /* @__PURE__ */ React13.createElement(Transition.Child, null, /* @__PURE__ */ React13.createElement("ul", {
    className: "absolute top-full z-20 m-0 mt-2 list-none overflow-hidden overscroll-contain rounded-xl px-0 py-2.5 shadow-xl"
  }, loading ? /* @__PURE__ */ React13.createElement("span", {
    className: "flex select-none justify-center p-8 text-center text-sm text-gray-400"
  }, /* @__PURE__ */ React13.createElement(SpinnerIcon, {
    className: "-ml-1 mr-2 h-5 w-5 animate-spin text-gray-400"
  }), /* @__PURE__ */ React13.createElement("span", null, "Loading...")) : results.length === 0 ? render_component_default(config.unstable_searchResultEmpty, {
    locale: router.locale
  }) : results.map((res, i) => {
    return /* @__PURE__ */ React13.createElement(Item2, {
      first: res.first,
      key: `search-item-${i}`,
      page: res.page,
      title: res.title,
      href: router.basePath + res.route,
      excerpt: res.excerpt,
      active: i === active,
      onHover: () => setActive(i),
      onClick: finishSearch
    });
  })))));
}

// src/navbar.tsx
function NavbarMenu({
  className,
  menu,
  children
}) {
  const items = menu.items;
  const routes = Object.fromEntries((menu.children || []).map((route) => [route.name, route]));
  return /* @__PURE__ */ React14.createElement(Menu, null, /* @__PURE__ */ React14.createElement(Menu.Button, {
    className: cn3(className, "items-center -ml-2 hidden whitespace-nowrap p-2 no-underline md:inline-flex", "text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200")
  }, children), /* @__PURE__ */ React14.createElement(Transition2, {
    leave: "transition",
    leaveFrom: "opacity-100",
    leaveTo: "opacity-0"
  }, /* @__PURE__ */ React14.createElement(Menu.Items, {
    className: "menu absolute right-0 z-20 mt-1 max-h-64 min-w-full overflow-auto rounded-md bg-white py-1 text-sm shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none dark:bg-neutral-800 dark:ring-white dark:ring-opacity-20"
  }, Object.entries(items || {}).map(([key, item]) => {
    var _a;
    const href = item.href || ((_a = routes[key]) == null ? void 0 : _a.route) || menu.route + "/" + key;
    return /* @__PURE__ */ React14.createElement(Menu.Item, {
      key
    }, /* @__PURE__ */ React14.createElement(anchor_default, {
      href,
      className: "hidden whitespace-nowrap no-underline md:inline-block text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 relative cursor-pointer select-none py-1.5 pl-3 pr-9 w-full",
      newWindow: item.newWindow
    }, item.title || key));
  }))));
}
function Navbar({ flatDirectories, items }) {
  const config = useConfig();
  const { locale = "en-US", asPath } = useRouter3();
  const activeRoute = getFSRoute(asPath, locale);
  const { menu, setMenu } = useMenuContext();
  const bannerKey = config.bannerKey || "nextra-banner";
  return /* @__PURE__ */ React14.createElement(React14.Fragment, null, /* @__PURE__ */ React14.createElement("script", {
    dangerouslySetInnerHTML: {
      __html: `try{if(localStorage.getItem(${JSON.stringify(bannerKey)})==='0'){document.body.classList.add('nextra-banner-hidden')}}catch(e){}`
    }
  }), config.banner ? /* @__PURE__ */ React14.createElement("div", {
    className: "nextra-banner-container sticky top-0 z-20 flex h-10 items-center bg-neutral-900 pl-10 text-sm text-slate-50  dark:bg-[linear-gradient(1deg,#383838,#212121)] dark:text-white md:relative"
  }, /* @__PURE__ */ React14.createElement("div", {
    className: "mx-auto w-full max-w-[90rem] truncate whitespace-nowrap py-1 pl-[max(env(safe-area-inset-left),1.5rem)] pr-[max(env(safe-area-inset-right),1.5rem)] text-center font-medium"
  }, render_component_default(config.banner, {
    locale
  })), /* @__PURE__ */ React14.createElement("button", {
    className: "mr-2 w-8 opacity-80 hover:opacity-100",
    onClick: () => {
      try {
        localStorage.setItem(bannerKey, "0");
      } catch (e) {
      }
      document.body.classList.add("nextra-banner-hidden");
    }
  }, /* @__PURE__ */ React14.createElement(XIcon, {
    className: "h4 mx-auto w-4"
  }))) : null, /* @__PURE__ */ React14.createElement("div", {
    className: "nextra-nav-container sticky top-0 z-20 w-full bg-transparent"
  }, /* @__PURE__ */ React14.createElement("div", {
    className: "nextra-nav-container-blur pointer-events-none absolute h-full w-full bg-white dark:bg-dark"
  }), /* @__PURE__ */ React14.createElement("nav", {
    className: "left-0 right-0 mx-auto flex h-16 max-w-[90rem] items-center gap-2 pl-[max(env(safe-area-inset-left),1.5rem)] pr-[max(env(safe-area-inset-right),1.5rem)]"
  }, /* @__PURE__ */ React14.createElement("div", {
    className: "mr-2 flex flex-auto items-center"
  }, /* @__PURE__ */ React14.createElement(anchor_default, {
    href: "/",
    className: "inline-flex items-center text-current no-underline hover:opacity-75"
  }, render_component_default(config.logo, { locale }))), /* @__PURE__ */ React14.createElement("div", {
    className: "flex-1"
  }), items ? items.map((pageOrMenu) => {
    if (pageOrMenu.hidden)
      return null;
    if (pageOrMenu.type === "menu") {
      const menu2 = pageOrMenu;
      const isActive = menu2.route === activeRoute || activeRoute.startsWith(menu2.route + "/");
      return /* @__PURE__ */ React14.createElement("div", {
        className: "inline-block relative",
        key: "menu-" + menu2.title
      }, /* @__PURE__ */ React14.createElement(NavbarMenu, {
        className: cn3("nextra-nav-link", isActive ? "active subpixel-antialiased text-current" : "text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"),
        menu: menu2
      }, menu2.title, /* @__PURE__ */ React14.createElement(ArrowRightIcon, {
        height: "1em",
        className: cn3("ml-1 h-[18px] min-w-[18px] rounded-sm p-[2px]", "[&>path]:origin-center [&>path]:transition-transform", "[&>path]:rotate-90")
      })));
    } else {
      const page = pageOrMenu;
      let href = page.href || page.route || "#";
      if (page.children) {
        href = (page.withIndexPage ? page.route : page.firstChildRoute) || href;
      }
      const isActive = page.route === activeRoute || activeRoute.startsWith(page.route + "/");
      return /* @__PURE__ */ React14.createElement(anchor_default, {
        href,
        key: page.route,
        className: cn3("nextra-nav-link", "-ml-2 hidden whitespace-nowrap p-2 no-underline md:inline-block", !isActive || page.newWindow ? "text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200" : "active subpixel-antialiased text-current"),
        newWindow: page.newWindow,
        "aria-selected": !page.newWindow && isActive
      }, page.title);
    }
  }) : null, /* @__PURE__ */ React14.createElement("div", null, /* @__PURE__ */ React14.createElement("div", {
    className: "hidden md:inline-block"
  }, config.customSearch || (config.search ? config.unstable_flexsearch ? /* @__PURE__ */ React14.createElement(Search2, null) : /* @__PURE__ */ React14.createElement(search_default, {
    directories: flatDirectories
  }) : null))), config.projectLink || config.github ? /* @__PURE__ */ React14.createElement(anchor_default, {
    className: "p-2 text-current",
    href: config.projectLink || config.github,
    newWindow: true
  }, config.projectLinkIcon ? render_component_default(config.projectLinkIcon, { locale }) : /* @__PURE__ */ React14.createElement(React14.Fragment, null, /* @__PURE__ */ React14.createElement(GitHubIcon, null), /* @__PURE__ */ React14.createElement("span", {
    className: "sr-only"
  }, "GitHub"))) : null, config.projectChatLink ? /* @__PURE__ */ React14.createElement(anchor_default, {
    className: "p-2 text-current",
    href: config.projectChatLink,
    newWindow: true
  }, config.projectChatLinkIcon ? render_component_default(config.projectChatLinkIcon, { locale }) : /* @__PURE__ */ React14.createElement(React14.Fragment, null, /* @__PURE__ */ React14.createElement(DiscordIcon, null), /* @__PURE__ */ React14.createElement("span", {
    className: "sr-only"
  }, "Discord"))) : null, /* @__PURE__ */ React14.createElement("button", {
    className: "nextra-menu-icon block p-2 -mr-2 md:hidden",
    onClick: () => setMenu(!menu)
  }, /* @__PURE__ */ React14.createElement(MenuIcon, {
    className: cn3({ open: menu })
  })))));
}

// src/footer.tsx
import React29 from "react";
import cn5 from "classnames";
import { useRouter as useRouter5 } from "next/router";

// src/locale-switch.tsx
import React27 from "react";
import { useRouter as useRouter4 } from "next/router";

// src/select.tsx
import React26 from "react";
import cn4 from "classnames";
import { Listbox, Transition as Transition3 } from "@headlessui/react";

// src/icons/arrow-right.tsx
import React15 from "react";

// src/icons/check.tsx
import React16 from "react";
function CheckIcon() {
  return /* @__PURE__ */ React16.createElement("svg", {
    viewBox: "0 0 20 20",
    width: "1em",
    height: "1em",
    fill: "currentColor"
  }, /* @__PURE__ */ React16.createElement("path", {
    fillRule: "evenodd",
    d: "M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",
    clipRule: "evenodd"
  }));
}

// src/icons/discord.tsx
import React17 from "react";

// src/icons/github.tsx
import React18 from "react";

// src/icons/globe.tsx
import React19 from "react";

// src/icons/menu.tsx
import React20 from "react";

// src/icons/moon.tsx
import React21 from "react";

// src/icons/spinner.tsx
import React23 from "react";

// src/icons/sun.tsx
import React24 from "react";

// src/icons/x.tsx
import React25 from "react";

// src/select.tsx
function Menu2({ options, selected, onChange }) {
  return /* @__PURE__ */ React26.createElement(Listbox, {
    value: selected,
    onChange
  }, ({ open }) => /* @__PURE__ */ React26.createElement(React26.Fragment, null, /* @__PURE__ */ React26.createElement(Listbox.Button, {
    className: cn4("h-7 w-full cursor-pointer rounded-md px-2 text-left text-xs font-medium text-gray-600 transition-colors focus:outline-none dark:text-gray-400", open ? "bg-gray-200 text-gray-900 dark:bg-primary-100/10 dark:text-gray-50" : "hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-primary-100/5 dark:hover:text-gray-50")
  }, selected.name), /* @__PURE__ */ React26.createElement(Transition3, {
    show: open,
    as: React26.Fragment,
    leave: "transition",
    leaveFrom: "opacity-100",
    leaveTo: "opacity-0"
  }, /* @__PURE__ */ React26.createElement(Listbox.Options, {
    className: "menu absolute bottom-[130%] z-20 mt-1 max-h-64 min-w-full overflow-auto rounded-md bg-white py-1 text-sm shadow-lg ring-1 ring-black/5 focus:outline-none dark:bg-neutral-800 dark:ring-white/20"
  }, options.map((option) => /* @__PURE__ */ React26.createElement(Listbox.Option, {
    key: option.key,
    value: option,
    className: ({ active }) => cn4(active ? "bg-primary-50 text-primary-500 dark:bg-primary-500/10" : "text-gray-800 dark:text-gray-100", "relative cursor-pointer select-none whitespace-nowrap py-1.5 pl-3 pr-9")
  }, option.name, option.key === selected.key ? /* @__PURE__ */ React26.createElement("span", {
    className: cn4("absolute inset-y-0 right-0 flex items-center pr-3")
  }, /* @__PURE__ */ React26.createElement(CheckIcon, null)) : null))))));
}

// src/locale-switch.tsx
function LocaleSwitch({ options }) {
  const router = useRouter4();
  const { locale, asPath } = router;
  const selected = options.find((l) => locale === l.locale);
  return /* @__PURE__ */ React27.createElement(Menu2, {
    onChange: (option) => {
      const date = new Date(Date.now() + 365 * 24 * 60 * 60 * 1e3);
      document.cookie = `NEXT_LOCALE=${option.key}; expires=${date.toUTCString()}; path=/`;
      window.location.href = asPath;
    },
    selected: {
      key: selected.locale,
      name: /* @__PURE__ */ React27.createElement("div", {
        className: "flex items-center gap-2"
      }, /* @__PURE__ */ React27.createElement(GlobeIcon, null), /* @__PURE__ */ React27.createElement("span", null, selected.text))
    },
    options: options.map((l) => ({
      key: l.locale,
      name: l.text
    }))
  });
}

// src/theme-switch.tsx
import React28, { memo as memo2 } from "react";
import { useTheme as useTheme2 } from "next-themes";
function ThemeSwitch({ lite = true }) {
  const { theme, setTheme, systemTheme } = useTheme2();
  const renderedTheme = theme === "system" ? systemTheme : theme;
  const [mounted, setMounted] = React28.useState(false);
  React28.useEffect(() => setMounted(true), []);
  return /* @__PURE__ */ React28.createElement(Menu2, {
    onChange: (option) => {
      setTheme(option.key);
    },
    selected: {
      key: theme || "",
      name: /* @__PURE__ */ React28.createElement("div", {
        className: "flex items-center gap-2 capitalize"
      }, mounted && renderedTheme === "dark" ? /* @__PURE__ */ React28.createElement(MoonIcon, {
        className: "h-4 w-4 [&>path]:fill-current"
      }) : /* @__PURE__ */ React28.createElement(SunIcon, {
        className: "h-4 w-4 [&>path]:fill-current"
      }), lite ? "" : /* @__PURE__ */ React28.createElement("span", null, mounted ? theme : "light"))
    },
    options: [
      { key: "light", name: "Light" },
      { key: "dark", name: "Dark" },
      { key: "system", name: "System" }
    ]
  });
}
var theme_switch_default = memo2(ThemeSwitch);

// src/footer.tsx
var NextLink2 = ({ route, title, isRTL }) => {
  return /* @__PURE__ */ React29.createElement(anchor_default, {
    href: route,
    className: cn5("-m-4 inline-flex items-center justify-end rounded p-4 text-base font-medium text-gray-600 no-underline transition-colors hover:text-primary-500 dark:text-gray-300 dark:hover:text-primary-500 md:text-lg", { "ml-2": !isRTL, "mr-2": isRTL }),
    title
  }, title, /* @__PURE__ */ React29.createElement(ArrowRightIcon, {
    height: 20,
    className: cn5("inline flex-shrink-0 transform", {
      "mr-1 rotate-180": isRTL,
      "ml-1": !isRTL
    })
  }));
};
var PrevLink = ({ route, title, isRTL }) => {
  return /* @__PURE__ */ React29.createElement(anchor_default, {
    href: route,
    className: cn5("-m-4 flex items-center rounded p-4 text-base font-medium text-gray-600 no-underline transition-colors hover:text-primary-500 dark:text-gray-300 dark:hover:text-primary-500 md:text-lg", { "mr-2": !isRTL, "ml-2": isRTL }),
    title
  }, /* @__PURE__ */ React29.createElement(ArrowRightIcon, {
    height: 20,
    className: cn5("inline flex-shrink-0 transform", {
      "mr-1 rotate-180": !isRTL,
      "ml-1": isRTL
    })
  }), title);
};
var NavLinks = ({
  flatDirectories,
  currentIndex,
  isRTL
}) => {
  const config = useConfig();
  const prev = config.prevLinks ? flatDirectories[currentIndex - 1] : null;
  const next = config.nextLinks ? flatDirectories[currentIndex + 1] : null;
  if (!prev && !next)
    return null;
  return /* @__PURE__ */ React29.createElement("div", {
    className: "nextra-navigation-links mb-8 flex flex-row items-center justify-between border-t pt-8 dark:border-neutral-800"
  }, /* @__PURE__ */ React29.createElement("div", {
    className: "flex min-w-0 flex-1 justify-start"
  }, prev ? /* @__PURE__ */ React29.createElement(PrevLink, {
    route: prev.route,
    title: prev.title,
    isRTL
  }) : null), /* @__PURE__ */ React29.createElement("div", {
    className: "flex min-w-0 flex-1 justify-end"
  }, next ? /* @__PURE__ */ React29.createElement(NextLink2, {
    route: next.route,
    title: next.title,
    isRTL
  }) : null));
};
var Footer = ({ menu }) => {
  const { locale = "en-US" } = useRouter5();
  const config = useConfig();
  return /* @__PURE__ */ React29.createElement("footer", {
    className: "bg-gray-100 pb-[env(safe-area-inset-bottom)] dark:bg-neutral-900"
  }, /* @__PURE__ */ React29.createElement("div", {
    className: cn5("hidden border-b py-2 dark:border-neutral-800 md:block", !menu && "md:hidden")
  }, /* @__PURE__ */ React29.createElement("div", {
    className: "mx-auto max-w-[90rem]"
  }, /* @__PURE__ */ React29.createElement("div", {
    className: "inline-flex px-4"
  }, config.i18n ? /* @__PURE__ */ React29.createElement("div", {
    className: "relative flex-1"
  }, /* @__PURE__ */ React29.createElement(LocaleSwitch, {
    options: config.i18n
  })) : null, config.darkMode ? /* @__PURE__ */ React29.createElement("div", {
    className: "relative grow-0"
  }, /* @__PURE__ */ React29.createElement(theme_switch_default, {
    lite: false
  })) : null))), /* @__PURE__ */ React29.createElement("div", {
    className: "mx-auto max-w-[90rem] py-12 pl-[max(env(safe-area-inset-left),1.5rem)] pr-[max(env(safe-area-inset-right),1.5rem)]"
  }, /* @__PURE__ */ React29.createElement("div", {
    className: "flex flex-col-reverse items-center justify-between md:flex-row md:items-end"
  }, /* @__PURE__ */ React29.createElement("span", {
    className: "text-gray-600 dark:text-gray-400"
  }, render_component_default(config.footerText, { locale })), /* @__PURE__ */ React29.createElement("div", {
    className: "mt-6"
  }))));
};
var footer_default = Footer;

// src/misc/theme.tsx
import React33, {
  useEffect as useEffect5,
  useRef as useRef4,
  useState as useState5,
  useContext as useContext4
} from "react";
import "intersection-observer";

// src/misc/active-anchor.tsx
import React30, { createContext as createContext3, useContext as useContext3, useState as useState4 } from "react";
var ActiveAnchorContext = createContext3({});
var ActiveAnchorSetterContext = createContext3((s) => s);
var useActiveAnchor = () => useContext3(ActiveAnchorContext);
var useActiveAnchorSet = () => useContext3(ActiveAnchorSetterContext);
var ActiveAnchor = ({ children }) => {
  const state = useState4({});
  return /* @__PURE__ */ React30.createElement(ActiveAnchorContext.Provider, {
    value: state[0]
  }, /* @__PURE__ */ React30.createElement(ActiveAnchorSetterContext.Provider, {
    value: state[1]
  }, children));
};

// src/misc/theme.tsx
import { MDXProvider } from "@mdx-js/react";

// src/components/collapse.tsx
import React31, { useRef as useRef3, useEffect as useEffect4 } from "react";
function Collapse({
  children,
  open
}) {
  const containerRef = useRef3(null);
  const innerRef = useRef3(null);
  const animationRef = useRef3();
  const initialRender = useRef3(true);
  const initialState = useRef3(open);
  useEffect4(() => {
    if (initialRender.current)
      return;
    if (animationRef.current) {
      clearTimeout(animationRef.current);
    }
    if (open) {
      const container = containerRef.current;
      const inner = innerRef.current;
      if (container && inner) {
        const contentHeight = innerRef.current.clientHeight;
        container.style.maxHeight = contentHeight + "px";
        container.classList.remove("duration-500");
        container.classList.add("duration-300");
        inner.style.opacity = "1";
        animationRef.current = setTimeout(() => {
          const container2 = containerRef.current;
          if (container2) {
            container2.style.removeProperty("max-height");
          }
        }, 300);
      }
    } else {
      const container = containerRef.current;
      const inner = innerRef.current;
      if (container && inner) {
        const contentHeight = innerRef.current.clientHeight;
        container.style.maxHeight = contentHeight + "px";
        container.classList.remove("duration-300");
        container.classList.add("duration-500");
        inner.style.opacity = "0";
        setTimeout(() => {
          const container2 = containerRef.current;
          if (container2) {
            container2.style.maxHeight = "0px";
          }
        });
      }
    }
  }, [open]);
  useEffect4(() => {
    initialRender.current = false;
  }, []);
  return /* @__PURE__ */ React31.createElement("div", {
    ref: containerRef,
    className: "transform-gpu overflow-hidden transition-all duration-300 ease-in-out motion-reduce:transition-none",
    style: {
      maxHeight: initialState.current ? void 0 : 0
    }
  }, /* @__PURE__ */ React31.createElement("div", {
    ref: innerRef,
    className: "nextra-collapse-content transform-gpu overflow-hidden transition-opacity duration-500 ease-in-out motion-reduce:transition-none",
    style: {
      opacity: initialState.current ? 1 : 0
    }
  }, children));
}

// src/misc/theme.tsx
var observer;
var setActiveAnchor;
var slugs = /* @__PURE__ */ new WeakMap();
if (typeof window !== "undefined") {
  observer = observer || new IntersectionObserver((entries) => {
    const headers = [];
    for (const entry of entries) {
      if ((entry == null ? void 0 : entry.rootBounds) && slugs.has(entry.target)) {
        const [slug, index] = slugs.get(entry.target);
        const aboveHalfViewport = entry.boundingClientRect.y + entry.boundingClientRect.height <= entry.rootBounds.y + entry.rootBounds.height;
        const insideHalfViewport = entry.intersectionRatio > 0;
        headers.push([slug, index, aboveHalfViewport, insideHalfViewport]);
      }
    }
    setActiveAnchor((f) => {
      const ret = __spreadValues({}, f);
      for (const header of headers) {
        ret[header[0]] = {
          index: header[1],
          aboveHalfViewport: header[2],
          insideHalfViewport: header[3]
        };
      }
      let activeSlug = "";
      let smallestIndexInViewport = Infinity;
      let largestIndexAboveViewport = -1;
      for (let s in ret) {
        ret[s].isActive = false;
        if (ret[s].insideHalfViewport && ret[s].index < smallestIndexInViewport) {
          smallestIndexInViewport = ret[s].index;
          activeSlug = s;
        }
        if (smallestIndexInViewport === Infinity && ret[s].aboveHalfViewport && ret[s].index > largestIndexAboveViewport) {
          largestIndexAboveViewport = ret[s].index;
          activeSlug = s;
        }
      }
      if (ret[activeSlug])
        ret[activeSlug].isActive = true;
      return ret;
    });
  }, {
    rootMargin: "0px 0px -50%",
    threshold: [0, 1]
  });
}
var createHeaderLink = (Tag, context) => function HeaderLink(_a) {
  var _b = _a, {
    children,
    id
  } = _b, props = __objRest(_b, [
    "children",
    "id"
  ]);
  setActiveAnchor = useActiveAnchorSet();
  const obRef = useRef4(null);
  useEffect5(() => {
    if (!obRef.current)
      return;
    slugs.set(obRef.current, [id, context.index += 1]);
    if (obRef.current)
      observer.observe(obRef.current);
    return () => {
      observer.disconnect();
      slugs.delete(obRef.current);
      setActiveAnchor((f) => {
        const ret = __spreadValues({}, f);
        delete ret[id];
        return ret;
      });
    };
  }, []);
  return /* @__PURE__ */ React33.createElement(Tag, __spreadValues({}, props), /* @__PURE__ */ React33.createElement("span", {
    className: "subheading-anchor -mt-20",
    id,
    ref: obRef
  }), /* @__PURE__ */ React33.createElement("a", {
    href: `#${id}`
  }, children));
};
var Table = ({ children }) => {
  return /* @__PURE__ */ React33.createElement("div", {
    className: "table-container"
  }, /* @__PURE__ */ React33.createElement("table", null, children));
};
var DetailsContext = React33.createContext(() => {
});
var findSummary = (children) => {
  let summary = null;
  let restChildren = [];
  React33.Children.forEach(children, (child, index) => {
    var _a;
    if (child && child.type === Summary) {
      summary = summary || child;
      return;
    }
    let c = child;
    if (!summary && typeof child === "object" && child && child.type !== Details && "props" in child && child.props) {
      const result = findSummary(child.props.children);
      summary = summary || result[0];
      c = React33.cloneElement(child, __spreadProps(__spreadValues({}, child.props), {
        children: ((_a = result[1]) == null ? void 0 : _a.length) ? result[1] : void 0,
        key: index
      }));
    }
    restChildren.push(c);
  });
  return [summary, restChildren];
};
var Details = (_a) => {
  var _b = _a, {
    children,
    open
  } = _b, props = __objRest(_b, [
    "children",
    "open"
  ]);
  const [openState, setOpen] = useState5(!!open);
  const ref = useRef4(null);
  const [summary, restChildren] = findSummary(children);
  return /* @__PURE__ */ React33.createElement("details", __spreadValues(__spreadProps(__spreadValues({}, props), {
    ref,
    open: true
  }), openState && { "data-open": "" }), /* @__PURE__ */ React33.createElement(DetailsContext.Provider, {
    value: setOpen
  }, summary), /* @__PURE__ */ React33.createElement(Collapse, {
    open: openState
  }, restChildren));
};
var Summary = (_a) => {
  var _b = _a, {
    children
  } = _b, props = __objRest(_b, [
    "children"
  ]);
  const setOpen = useContext4(DetailsContext);
  return /* @__PURE__ */ React33.createElement("summary", __spreadProps(__spreadValues({}, props), {
    onClick: (e) => {
      e.preventDefault();
      setOpen((v) => !v);
    }
  }), children);
};
var getComponents = () => {
  const context = { index: 0 };
  return {
    h2: createHeaderLink("h2", context),
    h3: createHeaderLink("h3", context),
    h4: createHeaderLink("h4", context),
    h5: createHeaderLink("h5", context),
    h6: createHeaderLink("h6", context),
    a: (_a) => {
      var _b = _a, { href = "" } = _b, props = __objRest(_b, ["href"]);
      return /* @__PURE__ */ React33.createElement(anchor_default, __spreadValues({
        href,
        newWindow: href.startsWith("https://")
      }, props));
    },
    table: Table,
    details: Details,
    summary: Summary
  };
};
var MDXTheme = ({
  children
}) => {
  return /* @__PURE__ */ React33.createElement(MDXProvider, {
    components: getComponents()
  }, children);
};

// src/sidebar.tsx
import React34, { useState as useState6, useEffect as useEffect6, useMemo as useMemo2 } from "react";
import cn6 from "classnames";
import Slugger from "github-slugger";
import { useRouter as useRouter6 } from "next/router";
import scrollIntoView from "scroll-into-view-if-needed";

// src/utils/get-heading-text.ts
function getHeadingText(heading) {
  return heading.value || "";
}

// src/sidebar.tsx
var TreeState = {};
var Folder = React34.memo(FolderImpl);
function FolderImpl({ item, anchors }) {
  const { asPath, locale } = useRouter6();
  const routeOriginal = getFSRoute(asPath, locale);
  const route = routeOriginal.split("#")[0];
  const active = route === item.route + "/" || route + "/" === item.route + "/";
  const activeRouteInside = active || route.startsWith(item.route + "/");
  const { defaultMenuCollapsed } = useMenuContext();
  const open = typeof TreeState[item.route] !== "undefined" ? TreeState[item.route] : active || activeRouteInside || !defaultMenuCollapsed;
  const rerender = useState6({})[1];
  const { setMenu } = useMenuContext();
  useEffect6(() => {
    if (activeRouteInside) {
      TreeState[item.route] = true;
    }
  }, [activeRouteInside]);
  const link = /* @__PURE__ */ React34.createElement(anchor_default, {
    href: item.withIndexPage ? item.route : "",
    className: "cursor-pointer",
    onClick: (e) => {
      const clickedToggleIcon = ["svg", "path"].includes(e.target.tagName.toLowerCase());
      if (clickedToggleIcon) {
        e.preventDefault();
      }
      if (item.withIndexPage) {
        if (active || clickedToggleIcon) {
          TreeState[item.route] = !open;
        } else {
          TreeState[item.route] = true;
          setMenu(false);
        }
        rerender({});
        return;
      }
      if (active)
        return;
      TreeState[item.route] = !open;
      rerender({});
    }
  }, /* @__PURE__ */ React34.createElement("span", {
    className: "flex items-center justify-between"
  }, item.title, /* @__PURE__ */ React34.createElement(ArrowRightIcon, {
    height: "1em",
    className: cn6("ml-2 h-[18px] min-w-[18px] rounded-sm p-[2px] hover:bg-gray-800/5 dark:hover:bg-gray-100/5", "[&>path]:origin-center [&>path]:transition-transform", open && "[&>path]:rotate-90")
  })));
  if (item.type === "menu") {
    const menu = item;
    const routes = Object.fromEntries((menu.children || []).map((route2) => [route2.name, route2]));
    const directories = Object.entries(menu.items || {}).map(([key, item2]) => {
      const route2 = routes[key] || {
        name: key,
        locale: menu.locale,
        route: menu.route + "/" + key
      };
      return __spreadValues(__spreadValues({}, route2), item2);
    });
    return /* @__PURE__ */ React34.createElement("li", {
      className: cn6({ open, active })
    }, link, /* @__PURE__ */ React34.createElement(Collapse, {
      open
    }, /* @__PURE__ */ React34.createElement(Menu3, {
      submenu: true,
      directories,
      base: item.route,
      anchors
    })));
  }
  return /* @__PURE__ */ React34.createElement("li", {
    className: cn6({ open, active })
  }, link, /* @__PURE__ */ React34.createElement(Collapse, {
    open
  }, Array.isArray(item.children) ? /* @__PURE__ */ React34.createElement(Menu3, {
    submenu: true,
    directories: item.children,
    base: item.route,
    anchors
  }) : null));
}
function Separator({ title, topLevel }) {
  const hasTitle = title !== void 0;
  const { sidebarSubtitle } = useConfig();
  return /* @__PURE__ */ React34.createElement("li", {
    className: cn6(topLevel ? "first:mt-1" : "first:mt-2", hasTitle ? "mt-5 mb-2" : "my-4", "break-words")
  }, hasTitle ? /* @__PURE__ */ React34.createElement("div", {
    className: "mx-2 py-1.5 text-sm font-semibold text-gray-900 no-underline dark:text-gray-100"
  }, sidebarSubtitle ? render_component_default(sidebarSubtitle, { title }) : title) : /* @__PURE__ */ React34.createElement("hr", {
    className: "mx-2 border-t border-gray-200 dark:border-primary-100/10"
  }));
}
function File({ item, anchors, topLevel }) {
  const { asPath, locale } = useRouter6();
  const route = getFSRoute(asPath, locale);
  const active = [route, route + "/"].includes(item.route + "/");
  const slugger = new Slugger();
  const activeAnchor = useActiveAnchor();
  const { setMenu } = useMenuContext();
  if (item.type === "separator") {
    return /* @__PURE__ */ React34.createElement(Separator, {
      title: item.title,
      topLevel
    });
  }
  if (anchors == null ? void 0 : anchors.length) {
    if (active) {
      let activeIndex = 0;
      const anchorInfo = anchors.map((text, i) => {
        var _a;
        const slug = slugger.slug(text);
        if ((_a = activeAnchor[slug]) == null ? void 0 : _a.isActive) {
          activeIndex = i;
        }
        return { text, slug };
      });
      return /* @__PURE__ */ React34.createElement("li", {
        className: cn6(active && "active", "break-words")
      }, /* @__PURE__ */ React34.createElement(anchor_default, {
        href: item.href || item.route,
        newWindow: item.newWindow,
        className: "break-words",
        onClick: () => {
          setMenu(false);
        }
      }, item.title), /* @__PURE__ */ React34.createElement("ul", null, anchors.map((_, i) => {
        const { slug, text } = anchorInfo[i];
        const isActive = i === activeIndex;
        return /* @__PURE__ */ React34.createElement("li", {
          key: `a-${slug}`
        }, /* @__PURE__ */ React34.createElement("a", {
          href: "#" + slug,
          className: isActive ? "active-anchor" : "",
          onClick: () => {
            setMenu(false);
          }
        }, /* @__PURE__ */ React34.createElement("span", {
          className: "flex text-sm w-full"
        }, /* @__PURE__ */ React34.createElement("span", {
          className: "opacity-25"
        }, "#"), /* @__PURE__ */ React34.createElement("span", {
          className: "mr-2"
        }), /* @__PURE__ */ React34.createElement("span", {
          className: "inline-block w-full break-words"
        }, text))));
      })));
    }
  }
  return /* @__PURE__ */ React34.createElement("li", {
    className: cn6(active && "active", "break-words")
  }, /* @__PURE__ */ React34.createElement(anchor_default, {
    href: item.href || item.route,
    newWindow: item.newWindow,
    onClick: () => {
      setMenu(false);
    }
  }, item.title));
}
function Menu3({ directories, anchors, submenu }) {
  return /* @__PURE__ */ React34.createElement("ul", null, directories.map((item) => {
    if (item.type === "menu" || item.children && (item.children.length || !item.withIndexPage)) {
      return /* @__PURE__ */ React34.createElement(Folder, {
        key: item.name,
        item,
        anchors
      });
    }
    return /* @__PURE__ */ React34.createElement(File, {
      key: item.name,
      item,
      anchors,
      topLevel: !submenu
    });
  }));
}
var emptyHeading = [];
function Sidebar({
  docsDirectories,
  flatDirectories,
  fullDirectories,
  asPopover = false,
  headings = emptyHeading,
  includePlaceholder
}) {
  const config = useConfig();
  const anchors = useMemo2(() => headings.filter((v) => v.children && v.depth === 2 && v.type === "heading").map((v) => getHeadingText(v)).filter(Boolean), [headings]);
  const { menu } = useMenuContext();
  useEffect6(() => {
    if (menu) {
      document.body.classList.add("overflow-hidden", "md:overflow-auto");
    } else {
      document.body.classList.remove("overflow-hidden", "md:overflow-auto");
    }
  }, [menu]);
  useEffect6(() => {
    const activeElement = document.querySelector(".nextra-sidebar li.active");
    if (activeElement) {
      scrollIntoView(activeElement, {
        block: "center",
        inline: "center",
        scrollMode: "always",
        boundary: document.querySelector(".nextra-sidebar-container")
      });
    }
  }, []);
  const hasMenu = !!(config.i18n || config.darkMode);
  return /* @__PURE__ */ React34.createElement(React34.Fragment, null, includePlaceholder && asPopover ? /* @__PURE__ */ React34.createElement("div", {
    className: "hidden h-0 w-64 flex-shrink-0 xl:block"
  }) : null, /* @__PURE__ */ React34.createElement("aside", {
    className: cn6("nextra-sidebar-container nextra-scrollbar fixed top-16 z-[15] h-[calc(100vh-4rem)] w-full flex-shrink-0 self-start overflow-y-auto md:sticky md:w-64", asPopover ? "md:hidden" : "md:block", hasMenu && "with-menu", { open: menu })
  }, /* @__PURE__ */ React34.createElement("div", {
    className: "nextra-sidebar h-full w-full select-none pl-[calc(env(safe-area-inset-left)-1.5rem)] md:h-auto"
  }, /* @__PURE__ */ React34.createElement("div", {
    className: "min-h-[calc(100vh-4rem-61px)] p-4"
  }, /* @__PURE__ */ React34.createElement("div", {
    className: "nextra-sidebar-search mb-4 block md:hidden"
  }, config.customSearch || (config.search ? config.unstable_flexsearch ? /* @__PURE__ */ React34.createElement(Search2, null) : /* @__PURE__ */ React34.createElement(search_default, {
    directories: flatDirectories
  }) : null)), /* @__PURE__ */ React34.createElement("div", {
    className: "hidden md:block"
  }, /* @__PURE__ */ React34.createElement(Menu3, {
    directories: docsDirectories,
    anchors: config.floatTOC ? [] : anchors
  })), /* @__PURE__ */ React34.createElement("div", {
    className: "md:hidden"
  }, /* @__PURE__ */ React34.createElement(Menu3, {
    directories: fullDirectories,
    anchors
  }))), !hasMenu ? null : /* @__PURE__ */ React34.createElement("div", {
    className: "nextra-sidebar-menu mx-4 border-t shadow-[0_-12px_16px_white] dark:border-neutral-800 dark:shadow-[0_-12px_16px_#111]"
  }, /* @__PURE__ */ React34.createElement("div", {
    className: "flex gap-1 bg-white py-4 pb-4 dark:bg-dark"
  }, config.i18n ? /* @__PURE__ */ React34.createElement("div", {
    className: "relative flex-1"
  }, /* @__PURE__ */ React34.createElement(LocaleSwitch, {
    options: config.i18n
  })) : null, config.darkMode ? /* @__PURE__ */ React34.createElement(React34.Fragment, null, /* @__PURE__ */ React34.createElement("div", {
    className: cn6("relative md:hidden", {
      locale: config.i18n,
      "flex-1": !config.i18n
    })
  }, /* @__PURE__ */ React34.createElement(theme_switch_default, {
    lite: false
  })), /* @__PURE__ */ React34.createElement("div", {
    className: cn6("relative hidden md:block", {
      locale: config.i18n
    }, config.i18n ? "grow-0" : "flex-1")
  }, /* @__PURE__ */ React34.createElement(theme_switch_default, {
    lite: !!config.i18n
  }))) : null)))));
}

// src/toc.tsx
import React35 from "react";
import cn7 from "classnames";
import Slugger2 from "github-slugger";
import parseGitUrl from "parse-git-url";
import { useRouter as useRouter7 } from "next/router";
import scrollIntoView2 from "scroll-into-view-if-needed";

// src/utils/use-mounted.ts
import { useEffect as useEffect7, useState as useState7 } from "react";
var useMounted = () => {
  const [mounted, setMounted] = useState7(false);
  useEffect7(() => {
    setMounted(true);
  }, []);
  return mounted;
};
var use_mounted_default = useMounted;

// src/toc.tsx
var createEditUrl = (repository, filepath) => {
  const repo = parseGitUrl(repository || "");
  if (!repo)
    throw new Error("Invalid `docsRepositoryBase` URL!");
  switch (repo.type) {
    case "github":
      return `https://github.com/${repo.owner}/${repo.name}/blob/${repo.branch || "main"}/${repo.subdir || "pages"}${filepath}`;
    case "gitlab":
      return `https://gitlab.com/${repo.owner}/${repo.name}/-/blob/${repo.branch || "master"}/${repo.subdir || "pages"}${filepath}`;
  }
  return "#";
};
var useCreateFeedbackUrl = (repository, filepath, labels) => {
  const mounted = use_mounted_default();
  if (!mounted)
    return "#";
  const repo = parseGitUrl(repository || "");
  if (!repo)
    throw new Error("Invalid `docsRepositoryBase` URL!");
  const pageTitle = document.title;
  switch (repo.type) {
    case "github":
      return `https://github.com/${repo.owner}/${repo.name}/issues/new?title=${encodeURIComponent(`Feedback for \u201C${pageTitle}\u201D`)}&labels=${labels || ""}`;
    case "gitlab":
      return `https://gitlab.com/${repo.owner}/${repo.name}/-/blob/${repo.branch || "master"}/${repo.subdir || "pages"}${filepath}`;
  }
  return "#";
};
var EditPageLink = ({
  repository,
  text,
  filepath
}) => {
  const url = createEditUrl(repository, filepath);
  const { locale = "en-US" } = useRouter7();
  return /* @__PURE__ */ React35.createElement(anchor_default, {
    className: "mb-2 block text-xs font-medium text-gray-500 no-underline hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100",
    href: url,
    newWindow: true
  }, text ? render_component_default(text, {
    locale
  }) : "Edit this page");
};
var FeedbackLink = ({
  repository,
  feedbackLink,
  filepath,
  labels
}) => {
  const url = useCreateFeedbackUrl(repository, filepath, labels);
  const { locale = "en-US" } = useRouter7();
  return /* @__PURE__ */ React35.createElement(anchor_default, {
    className: "mb-2 block text-xs font-medium text-gray-500 no-underline hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100",
    href: url,
    newWindow: true
  }, feedbackLink ? render_component_default(feedbackLink, {
    locale
  }) : "Feedback");
};
var indent = (level) => {
  switch (level) {
    case 3:
      return { marginLeft: "1rem " };
    case 4:
      return { marginLeft: "2rem " };
    case 5:
      return { marginLeft: "3rem " };
    case 6:
      return { marginLeft: "4rem " };
  }
  return {};
};
var emptyHeader = [];
function Item3({
  heading,
  slug,
  activeAnchor
}) {
  const text = getHeadingText(heading);
  const state = activeAnchor[slug];
  const ref = React35.useRef(null);
  React35.useEffect(() => {
    const el = ref.current;
    const toc = document.getElementsByClassName("nextra-toc")[0];
    if ((state == null ? void 0 : state.isActive) && el && toc) {
      scrollIntoView2(el, {
        behavior: "smooth",
        block: "center",
        inline: "center",
        scrollMode: "always",
        boundary: toc
      });
    }
  }, [state == null ? void 0 : state.isActive]);
  return /* @__PURE__ */ React35.createElement("li", {
    className: "scroll-my-6 scroll-py-6",
    style: indent(heading.depth),
    ref
  }, /* @__PURE__ */ React35.createElement("a", {
    href: `#${slug}`,
    className: cn7("inline-block no-underline", heading.depth === 2 ? "font-semibold" : "", (state == null ? void 0 : state.isActive) ? "text-primary-500 subpixel-antialiased" : "text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300"),
    "aria-selected": state == null ? void 0 : state.isActive
  }, text));
}
function ToC({
  headings = emptyHeader,
  filepathWithName
}) {
  const slugger = new Slugger2();
  const activeAnchor = useActiveAnchor();
  const config = useConfig();
  const { locale = "en-US" } = useRouter7();
  headings = headings ? headings.filter((heading) => heading.type === "heading" && heading.depth > 1) : headings;
  const hasHeadings = headings && headings.length > 0;
  const hasMetaInfo = config.feedbackLink || config.footerEditLink || config.tocExtraContent;
  return /* @__PURE__ */ React35.createElement("div", {
    className: "nextra-toc order-last hidden w-64 flex-shrink-0 px-4 text-sm xl:block"
  }, /* @__PURE__ */ React35.createElement("div", {
    className: "nextra-toc-content sticky top-16 -mr-4 max-h-[calc(100vh-4rem-env(safe-area-inset-bottom))] overflow-y-auto pr-4 pt-8"
  }, hasHeadings && headings ? /* @__PURE__ */ React35.createElement("ul", null, /* @__PURE__ */ React35.createElement("p", {
    className: "mb-4 font-semibold tracking-tight"
  }, "On This Page"), headings.map((heading) => {
    const text = getHeadingText(heading);
    const slug = slugger.slug(text);
    return /* @__PURE__ */ React35.createElement(Item3, {
      heading,
      activeAnchor,
      slug,
      key: slug
    });
  })) : null, hasMetaInfo ? /* @__PURE__ */ React35.createElement("div", {
    className: cn7("nextra-toc-meta", hasHeadings ? "mt-8 border-t bg-white pt-8 shadow-[0_-12px_16px_white] dark:bg-dark dark:shadow-[0_-12px_16px_#111]" : "", "sticky bottom-0 pb-8 dark:border-neutral-800")
  }, config.feedbackLink ? /* @__PURE__ */ React35.createElement(FeedbackLink, {
    filepath: filepathWithName,
    repository: config.docsRepositoryBase,
    labels: config.feedbackLabels,
    feedbackLink: config.feedbackLink
  }) : null, config.footerEditLink ? /* @__PURE__ */ React35.createElement(EditPageLink, {
    filepath: filepathWithName,
    repository: config.docsRepositoryBase,
    text: config.footerEditLink
  }) : null, config.tocExtraContent ? /* @__PURE__ */ React35.createElement("div", {
    className: "pt-4 leading-4"
  }, render_component_default(config.tocExtraContent, { locale })) : null) : null));
}

// src/misc/default.config.tsx
import React36 from "react";
var defaultTheme = {
  projectLink: "https://github.com/shuding/nextra",
  docsRepositoryBase: "https://github.com/shuding/nextra",
  titleSuffix: " \u2013 Nextra",
  nextLinks: true,
  prevLinks: true,
  search: true,
  darkMode: true,
  nextThemes: {
    defaultTheme: "system",
    storageKey: "theme"
  },
  defaultMenuCollapsed: false,
  footer: true,
  footerText: `MIT ${new Date().getFullYear()} \xA9 Nextra.`,
  footerEditLink: "Edit this page",
  gitTimestamp: "Last updated on",
  logo: /* @__PURE__ */ React36.createElement(React36.Fragment, null, /* @__PURE__ */ React36.createElement("span", {
    className: "mr-2 hidden font-extrabold md:inline"
  }, "Nextra"), /* @__PURE__ */ React36.createElement("span", {
    className: "hidden font-normal text-gray-600 md:inline"
  }, "The Next Docs Builder")),
  head: /* @__PURE__ */ React36.createElement(React36.Fragment, null, /* @__PURE__ */ React36.createElement("meta", {
    name: "msapplication-TileColor",
    content: "#ffffff"
  }), /* @__PURE__ */ React36.createElement("meta", {
    httpEquiv: "Content-Language",
    content: "en"
  }), /* @__PURE__ */ React36.createElement("meta", {
    name: "description",
    content: "Nextra: the next docs builder"
  }), /* @__PURE__ */ React36.createElement("meta", {
    name: "twitter:card",
    content: "summary_large_image"
  }), /* @__PURE__ */ React36.createElement("meta", {
    name: "twitter:site",
    content: "@shuding_"
  }), /* @__PURE__ */ React36.createElement("meta", {
    property: "og:title",
    content: "Nextra: the next docs builder"
  }), /* @__PURE__ */ React36.createElement("meta", {
    property: "og:description",
    content: "Nextra: the next docs builder"
  }), /* @__PURE__ */ React36.createElement("meta", {
    name: "apple-mobile-web-app-title",
    content: "Nextra"
  })),
  searchPlaceholder: ({ locale }) => {
    if (locale === "zh-CN")
      return "\u641C\u7D22\u6587\u6863...";
    return "Search documentation...";
  },
  unstable_searchResultEmpty: () => /* @__PURE__ */ React36.createElement("span", {
    className: "block select-none p-8 text-center text-sm text-gray-400"
  }, "No results found.")
};
var default_config_default = defaultTheme;

// src/utils/normalize-pages.tsx
import getTitle from "title";

// src/misc/theme-context.ts
var theme_context_default = {
  navbar: true,
  sidebar: true,
  toc: true,
  pagination: true,
  footer: true,
  layout: "default",
  typesetting: "default",
  breadcrumb: true
};

// src/utils/normalize-pages.tsx
function extendMeta(meta = {}, fallback) {
  if (typeof meta === "string") {
    meta = { title: meta };
  }
  const theme = Object.assign({}, fallback.theme, meta.theme);
  return Object.assign({}, fallback, meta, { theme });
}
function findFirstRoute(items) {
  for (const item of items) {
    if (item.route)
      return item.route;
    if (item.children) {
      const route = findFirstRoute(item.children);
      if (route)
        return route;
    }
  }
}
function normalizePages({
  list,
  locale,
  defaultLocale,
  route,
  docsRoot = "",
  underCurrentDocsRoot = false,
  pageThemeContext = theme_context_default
}) {
  let _meta;
  for (let item of list) {
    if (item.name === "meta.json") {
      if (locale === item.locale) {
        _meta = item.meta;
        break;
      }
      if (!_meta) {
        _meta = item.meta;
      }
    }
  }
  const meta = _meta || {};
  const metaKeys = Object.keys(meta);
  for (let key of metaKeys) {
    if (typeof meta[key] === "string") {
      meta[key] = {
        title: meta[key]
      };
    }
  }
  const directories = [];
  const flatDirectories = [];
  const docsDirectories = [];
  const flatDocsDirectories = [];
  const topLevelNavbarItems = [];
  let activeType = void 0;
  let activeIndex = 0;
  let activeThemeContext = pageThemeContext;
  let activePath = [];
  let metaKeyIndex = -1;
  const fallbackMeta = meta["*"] || {};
  delete fallbackMeta.title;
  delete fallbackMeta.href;
  const items = list.filter((a) => a.name !== "meta.json" && !a.name.startsWith("_") && (a.locale === locale || a.locale === defaultLocale || !a.locale)).sort((a, b) => {
    const indexA = metaKeys.indexOf(a.name);
    const indexB = metaKeys.indexOf(b.name);
    if (indexA === -1 && indexB === -1)
      return a.name < b.name ? -1 : 1;
    if (indexA === -1)
      return 1;
    if (indexB === -1)
      return -1;
    return indexA - indexB;
  }).flatMap((item) => {
    const items2 = [];
    const index = metaKeys.indexOf(item.name);
    if (index !== -1) {
      for (let i = metaKeyIndex + 1; i < index; i++) {
        const key = metaKeys[i];
        if (key !== "*") {
          items2.push(__spreadValues({
            name: key,
            route: ""
          }, meta[key]));
        }
      }
      metaKeyIndex = index;
    }
    const extendedItem = index === -1 ? item : __spreadValues(__spreadValues({}, meta[item.name]), item);
    items2.push(extendedItem);
    return items2;
  });
  for (let i = metaKeyIndex + 1; i < metaKeys.length; i++) {
    const key = metaKeys[i];
    if (key !== "*") {
      items.push(__spreadValues({
        name: key,
        route: "#"
      }, meta[key]));
    }
  }
  for (let i = 0; i < items.length; i++) {
    const a = items[i];
    if (i + 1 < items.length && a.name === items[i + 1].name) {
      items[i + 1] = __spreadProps(__spreadValues({}, items[i + 1]), { withIndexPage: true });
      if (a.children && !items[i + 1].children) {
        items[i + 1].children = a.children;
      }
      continue;
    }
    const extendedMeta = extendMeta(meta[a.name], fallbackMeta);
    const type = extendedMeta.type || "doc";
    const title = extendedMeta.title || (type === "separator" ? void 0 : getTitle(a.name));
    const hidden = extendedMeta.hidden;
    const extendedPageThemeContext = __spreadValues(__spreadValues({}, pageThemeContext), extendedMeta.theme);
    const isCurrentDocsTree = route.startsWith(docsRoot);
    const normalizedChildren = a.children ? normalizePages({
      list: a.children,
      locale,
      defaultLocale,
      route,
      docsRoot: type === "page" || type === "menu" ? a.route : docsRoot,
      underCurrentDocsRoot: underCurrentDocsRoot || isCurrentDocsTree,
      pageThemeContext: extendedPageThemeContext
    }) : void 0;
    const item = __spreadProps(__spreadValues({}, a), {
      title,
      type,
      hidden,
      children: normalizedChildren ? [] : void 0
    });
    const docsItem = __spreadProps(__spreadValues({}, a), {
      title,
      type,
      hidden,
      children: normalizedChildren ? [] : void 0
    });
    const pageItem = __spreadProps(__spreadValues({}, a), {
      title,
      type,
      hidden,
      children: normalizedChildren ? [] : void 0
    });
    if (a.route === route) {
      activePath = [item];
      activeType = type;
      activeThemeContext = __spreadValues(__spreadValues({}, activeThemeContext), extendedPageThemeContext);
      switch (type) {
        case "page":
        case "menu":
          activeIndex = topLevelNavbarItems.length;
          break;
        case "doc":
          if (isCurrentDocsTree) {
            activeIndex = flatDocsDirectories.length;
          }
      }
    }
    if (hidden)
      continue;
    if (normalizedChildren) {
      if (normalizedChildren.activeIndex !== void 0 && normalizedChildren.activeType !== void 0) {
        activeThemeContext = normalizedChildren.activeThemeContext;
        activeType = normalizedChildren.activeType;
        activePath = [item, ...normalizedChildren.activePath];
        switch (activeType) {
          case "page":
          case "menu":
            activeIndex = topLevelNavbarItems.length + normalizedChildren.activeIndex;
            break;
          case "doc":
            activeIndex = flatDocsDirectories.length + normalizedChildren.activeIndex;
            break;
        }
        if (a.withIndexPage) {
          if (type === "doc") {
            activeIndex++;
          }
        }
      }
      switch (type) {
        case "page":
        case "menu":
          pageItem.children.push(...normalizedChildren.directories);
          docsDirectories.push(...normalizedChildren.docsDirectories);
          if (normalizedChildren.flatDirectories.length) {
            pageItem.firstChildRoute = findFirstRoute(normalizedChildren.flatDirectories);
            topLevelNavbarItems.push(pageItem);
          } else if (pageItem.withIndexPage) {
            topLevelNavbarItems.push(pageItem);
          }
          break;
        case "doc":
          if (isCurrentDocsTree) {
            Array.isArray(docsItem.children) && docsItem.children.push(...normalizedChildren.docsDirectories);
            if (item.withIndexPage) {
              flatDocsDirectories.push(docsItem);
            }
          }
      }
      flatDirectories.push(...normalizedChildren.flatDirectories);
      flatDocsDirectories.push(...normalizedChildren.flatDocsDirectories);
      Array.isArray(item.children) && item.children.push(...normalizedChildren.directories);
    } else {
      flatDirectories.push(item);
      switch (type) {
        case "page":
        case "menu":
          topLevelNavbarItems.push(pageItem);
          break;
        case "doc":
          if (isCurrentDocsTree) {
            flatDocsDirectories.push(docsItem);
          }
      }
    }
    directories.push(item);
    switch (type) {
      case "page":
      case "menu":
        if (isCurrentDocsTree && underCurrentDocsRoot) {
          docsDirectories.push(pageItem);
        }
        break;
      case "doc":
      case "separator":
        if (isCurrentDocsTree) {
          docsDirectories.push(docsItem);
        }
    }
  }
  return {
    activeType,
    activeIndex,
    activeThemeContext,
    activePath,
    directories,
    flatDirectories,
    docsDirectories,
    flatDocsDirectories,
    topLevelNavbarItems
  };
}

// src/polyfill.tsx
if (typeof window !== "undefined") {
  let resizeTimer;
  const addResizingClass = () => {
    document.body.classList.add("resizing");
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(() => {
      document.body.classList.remove("resizing");
    }, 200);
  };
  window.addEventListener("resize", addResizingClass);
}

// src/breadcrumb.tsx
import React37 from "react";
import cn8 from "classnames";
function Breadcrumb({
  activePath
}) {
  return /* @__PURE__ */ React37.createElement("div", {
    className: "nextra-breadcrumb mt-2.5 flex cursor-default overflow-hidden text-sm font-normal text-gray-500 transition-colors"
  }, activePath.map((item, index) => {
    const isLink = !item.children || item.withIndexPage;
    const isActive = index === activePath.length - 1;
    return /* @__PURE__ */ React37.createElement(React37.Fragment, {
      key: item.route + item.name
    }, index ? /* @__PURE__ */ React37.createElement(ArrowRightIcon, {
      width: 14,
      className: "mx-1 select-none"
    }) : null, /* @__PURE__ */ React37.createElement("div", {
      className: cn8("transition-colors whitespace-nowrap", {
        "active text-gray-600 dark:text-gray-400": isActive,
        "min-w-[24px] overflow-hidden text-ellipsis": !isActive,
        "hover:text-gray-900 dark:hover:text-gray-200": isLink && !isActive
      }),
      title: item.title
    }, isLink && !isActive ? /* @__PURE__ */ React37.createElement(anchor_default, {
      href: item.route,
      className: "text-current no-underline"
    }, item.title) : item.title));
  }));
}

// src/index.tsx
var resizeObserver;
if (typeof window !== "undefined") {
  resizeObserver = resizeObserver || new ResizeObserver((entries) => {
    if (window.location.hash) {
      const node = entries[0].target.ownerDocument.querySelector(window.location.hash);
      if (node) {
        scrollIntoView3(node);
      }
    }
  });
}
function useDirectoryInfo(pageMap) {
  const { locale = "en-US", defaultLocale, asPath } = useRouter8();
  return useMemo3(() => {
    const fsPath = getFSRoute(asPath, locale);
    return normalizePages({
      list: pageMap,
      locale,
      defaultLocale,
      route: fsPath
    });
  }, [pageMap, locale, defaultLocale, asPath]);
}
var Body = ({
  themeContext,
  breadcrumb,
  navLinks,
  timestamp,
  children
}) => {
  const config = useConfig();
  const { locale = "en-US" } = useRouter8();
  const date = timestamp ? new Date(timestamp) : null;
  const mainElement = useRef5(null);
  useEffect8(() => {
    if (mainElement.current) {
      resizeObserver.observe(mainElement.current);
    }
    return () => {
      resizeObserver.disconnect();
    };
  }, []);
  return /* @__PURE__ */ React38.createElement(React38.Fragment, null, /* @__PURE__ */ React38.createElement(SkipNavContent, null), themeContext.layout === "full" ? /* @__PURE__ */ React38.createElement("article", {
    className: "nextra-body full relative justify-center overflow-x-hidden pl-[max(env(safe-area-inset-left),1.5rem)] pr-[max(env(safe-area-inset-right),1.5rem)]"
  }, /* @__PURE__ */ React38.createElement(MDXTheme, null, children), date && config.gitTimestamp ? /* @__PURE__ */ React38.createElement("div", {
    className: "pointer-default mt-12 mb-8 block text-right text-xs text-gray-500 dark:text-gray-400"
  }, typeof config.gitTimestamp === "string" ? config.gitTimestamp + " " + date.toLocaleDateString(locale, {
    year: "numeric",
    month: "long",
    day: "numeric"
  }) : render_component_default(config.gitTimestamp, {
    timestamp: date,
    locale
  })) : /* @__PURE__ */ React38.createElement("div", {
    className: "mt-16"
  }), navLinks) : themeContext.layout === "raw" ? /* @__PURE__ */ React38.createElement("div", {
    className: "nextra-body full expand relative overflow-x-hidden"
  }, children) : /* @__PURE__ */ React38.createElement("article", {
    className: cn9("nextra-body relative flex w-full min-w-0 max-w-full justify-center pb-8 pr-[calc(env(safe-area-inset-right)-1.5rem)]", themeContext.typesetting ? "nextra-body-typesetting-" + themeContext.typesetting : "")
  }, /* @__PURE__ */ React38.createElement("main", {
    className: "z-10 w-full min-w-0 max-w-4xl px-6 pt-4 md:px-8",
    ref: mainElement
  }, breadcrumb, /* @__PURE__ */ React38.createElement(MDXTheme, null, children), date && config.gitTimestamp ? /* @__PURE__ */ React38.createElement("div", {
    className: "pointer-default mt-12 mb-8 block text-right text-xs text-gray-500 dark:text-gray-400"
  }, typeof config.gitTimestamp === "string" ? config.gitTimestamp + " " + date.toLocaleDateString(locale, {
    year: "numeric",
    month: "long",
    day: "numeric"
  }) : render_component_default(config.gitTimestamp, {
    timestamp: date,
    locale
  })) : /* @__PURE__ */ React38.createElement("div", {
    className: "mt-16"
  }), navLinks)));
};
var InnerLayout = ({
  filename,
  pageMap,
  meta,
  titleText,
  headings,
  timestamp,
  children
}) => {
  const { route, locale = "en-US" } = useRouter8();
  const config = useConfig();
  const {
    activeType,
    activeIndex,
    activeThemeContext,
    activePath,
    topLevelNavbarItems,
    docsDirectories,
    flatDirectories,
    flatDocsDirectories,
    directories
  } = useDirectoryInfo(pageMap);
  const filepath = route.slice(0, route.lastIndexOf("/") + 1);
  const filepathWithName = filepath + filename;
  const title = meta.title || titleText || "Untitled";
  const isRTL = useMemo3(() => {
    if (!config.i18n)
      return config.direction === "rtl";
    const localeConfig = config.i18n.find((l) => l.locale === locale);
    return localeConfig && localeConfig.direction === "rtl";
  }, [config.i18n, locale]);
  const [menu, setMenu] = useState8(false);
  const themeContext = __spreadValues(__spreadValues({}, activeThemeContext), meta);
  const hideSidebar = !themeContext.sidebar || themeContext.layout === "raw";
  const hideToc = !themeContext.toc || themeContext.layout === "raw";
  return /* @__PURE__ */ React38.createElement(MenuContext.Provider, {
    value: {
      menu,
      setMenu,
      defaultMenuCollapsed: !!config.defaultMenuCollapsed
    }
  }, /* @__PURE__ */ React38.createElement(Head, {
    title,
    locale,
    meta
  }), /* @__PURE__ */ React38.createElement("div", {
    className: cn9("nextra-container main-container flex flex-col", {
      rtl: isRTL,
      "menu-active": menu
    })
  }, themeContext.navbar ? /* @__PURE__ */ React38.createElement(Navbar, {
    isRTL,
    flatDirectories,
    items: topLevelNavbarItems
  }) : null, /* @__PURE__ */ React38.createElement(ActiveAnchor, null, /* @__PURE__ */ React38.createElement("div", {
    className: "mx-auto flex w-full max-w-[90rem] flex-1 items-stretch"
  }, /* @__PURE__ */ React38.createElement("div", {
    className: "flex w-full flex-1"
  }, /* @__PURE__ */ React38.createElement(Sidebar, {
    docsDirectories,
    flatDirectories,
    fullDirectories: directories,
    headings,
    isRTL,
    asPopover: activeType === "page" || hideSidebar,
    includePlaceholder: themeContext.layout === "default"
  }), activeType === "page" || hideToc || themeContext.layout !== "default" ? themeContext.layout === "full" || themeContext.layout === "raw" ? null : /* @__PURE__ */ React38.createElement("div", {
    className: "nextra-toc order-last hidden w-64 flex-shrink-0 px-4 text-sm xl:block"
  }) : /* @__PURE__ */ React38.createElement(ToC, {
    headings: config.floatTOC ? headings : null,
    filepathWithName
  }), /* @__PURE__ */ React38.createElement(Body, {
    themeContext,
    breadcrumb: activeType !== "page" && themeContext.breadcrumb ? /* @__PURE__ */ React38.createElement(Breadcrumb, {
      activePath
    }) : null,
    navLinks: activeType !== "page" && themeContext.pagination ? /* @__PURE__ */ React38.createElement(NavLinks, {
      flatDirectories: flatDocsDirectories,
      currentIndex: activeIndex,
      isRTL
    }) : null,
    timestamp
  }, children)))), themeContext.footer && config.footer ? /* @__PURE__ */ React38.createElement(footer_default, {
    menu: activeType === "page" || hideSidebar
  }) : null));
};
var nextraPageContext = {};
function Layout(props) {
  const { route } = useRouter8();
  const context = nextraPageContext[route];
  if (!context)
    throw new Error(`No content found for ${route}.`);
  const extendedConfig = __spreadProps(__spreadValues(__spreadValues({}, default_config_default), context.themeConfig), {
    unstable_flexsearch: context.pageOpts.unstable_flexsearch,
    newNextLinkBehavior: context.pageOpts.newNextLinkBehavior
  });
  const nextThemes = extendedConfig.nextThemes || {};
  return /* @__PURE__ */ React38.createElement(ThemeConfigContext.Provider, {
    value: extendedConfig
  }, /* @__PURE__ */ React38.createElement(ThemeProvider, {
    attribute: "class",
    disableTransitionOnChange: true,
    defaultTheme: nextThemes.defaultTheme,
    storageKey: nextThemes.storageKey,
    forcedTheme: nextThemes.forcedTheme
  }, /* @__PURE__ */ React38.createElement(InnerLayout, __spreadValues({}, context.pageOpts), /* @__PURE__ */ React38.createElement(context.Content, __spreadValues({}, props)))));
}
function withLayout(route, Content, pageOpts, themeConfig) {
  nextraPageContext[route] = {
    Content,
    pageOpts,
    themeConfig
  };
  return Layout;
}
export {
  withLayout as default,
  getComponents
};
